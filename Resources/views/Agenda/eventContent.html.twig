{% twig_js name="EventContent" %}

{% if event.isTask %}
    <div>{{ 'limit_date'|trans({}, 'agenda') }}: {{ event.end.string }}</div>
{% else %}
        <div>{{ 'form.start'|trans({}, 'agenda') }}: {{ event.start.string }}</div>
        <div>{{ 'form.end'|trans({}, 'agenda') }}: {{ event.end.string }}</div>
{% endif %}

<div>{{ 'form.author'|trans({}, 'agenda') }}: {{ event.owner }}</div>

<div>{{ 'workspace'|trans({}, 'platform') }}:
    {% if event.workspace_id is null %}
        {{ 'desktop'|trans({}, 'platform') }}
    {% else %}
        {{ event.workspace_name }}
    {% endif %}
</div>

{% if event.description is not empty %}
    {{ 'form.description'|trans({}, 'agenda') }} :
    <div style="max-height: 150px; overflow-y: auto;">
         {{ event.description|raw }}
    </div>
{% endif %}

{% if event.isTask  %}
    {% if event.isTaskDone%}
        <div style="background-color: darkgreen; color: #f5f5f5; text-align: center; padding: 5px 0;"><span class="fa fa-check-circle"></span> {{ 'task_done'|trans({}, 'agenda') }}</div>
    {% else %}
        <div style="background-color: darkred; color: #f5f5f5; text-align: center; padding: 5px 0;"><span class="fa fa-exclamation-circle"></span> {{ 'task_not_done'|trans({}, 'agenda') }}</div>
    {% endif %}
{% endif %}

{% if event.editable %}
    <div class="text-right" style="margin-top: 6px;">
        <a href="#" class="modify-event" data-event-id="{{ event.id }}">{{ 'modify'|trans({}, 'agenda') }}</a>
    </div>
{% endif %}